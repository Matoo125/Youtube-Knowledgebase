webpackJsonp([1],[,,,,,,,,,,function(t,e,s){"use strict";var a=s(3),i=s(58),n=s(50),o=s.n(n),l=s(48),c=s.n(l),r=s(47),d=s.n(r);a.a.use(i.a),e.a=new i.a({routes:[{path:"/:id?",name:"Channels",component:o.a},{path:"/channel/:id",name:"Channel",component:c.a},{path:"/channels/add",name:"AddChannel",component:d.a}]})},function(t,e,s){"use strict";var a=s(3),i=s(60),n=s(2),o=s.n(n);a.a.use(i.a);var l=new i.a.Store({state:{categories:null,channel:{id:null,info:null}},mutations:{SET_CATEGORIES:function(t,e){t.categories=e},SET_CHANNEL_INFO:function(t,e){t.channel.info=e}},actions:{loadCategories:function(t){o.a.get("http://youtube-knowledgebase.6f.sk/app/index.php?url=categories/list").then(function(e){console.log(e),t.commit("SET_CATEGORIES",e.data.categories)}).catch(function(t){console.log(t)})}}});e.a=l},function(t,e){},,function(t,e,s){s(44);var a=s(1)(s(33),s(57),null,null);t.exports=a.exports},,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(3),i=s(14),n=s.n(i),o=s(10),l=s(11),c=s(13),r=s.n(c),d=s(12);s.n(d);a.a.config.productionTip=!1,a.a.use(r.a,{timeout:5e3});var u=new a.a;a.a.prototype.$bus=u,new a.a({el:"#app",router:o.a,store:l.a,template:"<App/>",components:{App:n.a}})},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(51),i=s.n(a);e.default={name:"app",components:{Navigation:i.a},mounted:function(){null===this.$store.state.categories&&this.$store.dispatch("loadCategories")}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),i=s.n(a);e.default={name:"AddChannel",data:function(){return{name:"",id:"",info:null,selectedCategories:[]}},computed:{categories:function(){return this.$store.state.categories}},methods:{add:function(){this.id?this.getChannelInfo():this.getId()},getId:function(){var t=this;i.a.get("https://www.googleapis.com/youtube/v3/channels",{params:{key:"AIzaSyB-rHXLjy6DQXZn3irtKEgl9-hpjjU2LFg",part:"id",forUsername:this.name}}).then(function(e){console.log(e.data.items[0].id),t.id=e.data.items[0].id,t.getChannelInfo()}).catch(function(t){console.log(t)})},getChannelInfo:function(){var t=this;console.log("getting channel info ..."),i.a.get("https://www.googleapis.com/youtube/v3/channels",{params:{key:"AIzaSyB-rHXLjy6DQXZn3irtKEgl9-hpjjU2LFg",part:"snippet",id:this.id,fields:"items(snippet,id)"}}).then(function(e){t.info=e.data.items[0].snippet}).catch(function(t){console.log(t)})},addToDatabase:function(){var t=this;i.a.post("http://youtube-knowledgebase.6f.sk/app/index.php?url=channels/add",{y_id:this.id,title:this.info.title,description:this.info.description,published_at:this.info.publishedAt,thumbnail:this.info.thumbnails.high.url,categories:this.selectedCategories}).then(function(e){console.log(e),"SUCCESS"===e.data.status&&(t.$toaster.success("Channel has been added. "),t.info="",t.name="",t.id=null,t.selectedCategories=[])}).catch(function(t){console.log(t)})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(49),i=s.n(a);e.default={name:"Channel",data:function(){return{loading:!1,videoId:null,videos:null,uploads_id:null,modalActive:null,player:null,error:null,token:{next:null,prev:null}}},components:{ChannelInfo:i.a},created:function(){this.fetchUploadsId()},mounted:function(){var t=this;setTimeout(function(){return t.fetchUploadsPlaylist()},400)},methods:{paginate:function(t){"next"===t?this.token.next&&this.fetchUploadsPlaylist(this.token.next):"prev"===t&&this.token.prev&&this.fetchUploadsPlaylist(this.token.prev)},fetchUploadsId:function(){var t=this;this.error=this.videos=null,this.loading=!0,axios.get("https://www.googleapis.com/youtube/v3/channels?part=contentDetails&id="+this.$route.params.id+"&key=AIzaSyB-rHXLjy6DQXZn3irtKEgl9-hpjjU2LFg&fields=items/contentDetails/relatedPlaylists/uploads").then(function(e){return t.uploads_id=e.data.items[0].contentDetails.relatedPlaylists.uploads})},fetchUploadsPlaylist:function(t){var e=this;axios.get("https://www.googleapis.com/youtube/v3/playlistItems",{params:{part:"snippet",playlistId:this.uploads_id,maxResults:24,key:"AIzaSyB-rHXLjy6DQXZn3irtKEgl9-hpjjU2LFg",pageToken:t}}).then(function(t){e.videos=t.data.items,e.token.next=t.data.nextPageToken,e.token.prev=t.data.prevPageToken,e.loading=!1}).catch(function(t){return console.log(t)})},play:function(t){this.player&&(this.player.destroy(),console.log("destroyed")),document.querySelector("#player").setAttribute("data-video-id",t.currentTarget.id),this.player=plyr.setup(document.querySelector("#player"))[0],this.modalActive=!0},close:function(){this.modalActive=!1}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),i=s.n(a);e.default={name:"ChannelInfo",data:function(){return{snippet:null,statistics:null,readmore:{show:!1,active:!1}}},created:function(){this.fetchChannelInfo()},methods:{fetchChannelInfo:function(){var t=this;i()({method:"get",url:"https://www.googleapis.com/youtube/v3/channels",params:{key:"AIzaSyB-rHXLjy6DQXZn3irtKEgl9-hpjjU2LFg",part:"snippet,statistics",id:this.$route.params.id}}).then(function(e){console.log(e),t.snippet=e.data.items[0].snippet,t.statistics=e.data.items[0].statistics}).catch(function(t){console.log(t)})},round:function(t){return t<1e3?t:t<1e6?(t/1e3).toFixed(1)+" k":t<1e9?(t/1e6).toFixed(1)+" m":(t/1e9).toFixed(1)+" b"},shorten:function(t,e){return t.length<=e||this.readmore.active?(this.readmore.show=!1,t):(this.readmore.show=!0,t.substring(0,e)+" ...")},ytblink:function(){return"http://youtube.com/channel/"+this.$route.params.id}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),i=s.n(a);e.default={name:"Channels",data:function(){return{channels:[]}},mounted:function(){var t,e=this;t=this.$route.params.id?"channels/listByCategory/"+this.$route.params.id:"channels/list",i.a.get("http://youtube-knowledgebase.6f.sk/app/index.php?url="+t).then(function(t){console.log(t),e.channels=t.data.channels}).catch(function(t){console.log(t)})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Navigation",data:function(){return{dropdownOpen:!1}},computed:{categories:function(){return this.$store.state.categories}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,s){s(40);var a=s(1)(s(34),s(53),null,null);t.exports=a.exports},function(t,e,s){s(43);var a=s(1)(s(35),s(56),null,null);t.exports=a.exports},function(t,e,s){s(39);var a=s(1)(s(36),s(52),null,null);t.exports=a.exports},function(t,e,s){s(42);var a=s(1)(s(37),s(55),null,null);t.exports=a.exports},function(t,e,s){s(41);var a=s(1)(s(38),s(54),null,null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.snippet?s("div",[s("div",{staticClass:"section profile-heading"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-2"},[s("div",{staticClass:"image is-128x128 avatar"},[s("img",{attrs:{src:t.snippet.thumbnails.high.url}})])]),t._v(" "),s("div",{staticClass:"column is-4 name"},[s("p",[s("span",{staticClass:"title is-bold"},[t._v(t._s(t.snippet.title))]),t._v(" "),s("a",{staticClass:"button is-primary is-outlined follow",attrs:{target:"_blank",href:t.ytblink()}},[t._v("Link")])]),t._v(" "),s("p",{staticClass:"tagline"},[t._v(t._s(t.shorten(t.snippet.description,100))+" \n        "),t.readmore.show?s("a",{on:{click:function(){t.readmore.active=!0}}},[t._v("Read More")]):t._e(),t._v(" "),t.readmore.active?s("a",{on:{click:function(){t.readmore.active=!1}}},[t._v("Show Less")]):t._e()])]),t._v(" "),s("div",{staticClass:"column is-2 followers has-text-centered"},[s("p",{staticClass:"stat-val"},[t._v(t._s(t.round(t.statistics.videoCount)))]),t._v(" "),s("p",{staticClass:"stat-key"},[t._v("videos")])]),t._v(" "),s("div",{staticClass:"column is-2 following has-text-centered"},[s("p",{staticClass:"stat-val"},[t._v(t._s(t.round(t.statistics.viewCount)))]),t._v(" "),s("p",{staticClass:"stat-key"},[t._v("views")])]),t._v(" "),s("div",{staticClass:"column is-2 likes has-text-centered"},[s("p",{staticClass:"stat-val"},[t._v(t._s(t.round(t.statistics.subscriberCount)))]),t._v(" "),s("p",{staticClass:"stat-key"},[t._v("subscribers")])])])])]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.info?t._e():s("div",[t._m(0),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(1),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input is-large",attrs:{type:"text",placeholder:"Large sized input"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"field is-horizontal"},[t._m(2),t._v(" "),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"input is-large",attrs:{type:"text",placeholder:"Large sized input"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"has-text-centered"},[s("p",[t._v("Add one of those two. We need channel id, but if tou just know the channel name from url, we can find the id for you")]),t._v(" "),s("br"),t._v(" "),s("a",{staticClass:"button is-primary is-large",on:{click:function(e){t.add()}}},[t._v("Go")])])]),t._v(" "),t.info?s("div",[s("h2",{staticClass:"title is-2"},[t._v("Is this what you are looking for?")]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-content columns"},[s("div",{staticClass:"column is-one-quarter"},[s("figure",{staticClass:"image is-4by4",staticStyle:{"max-width":"240px"}},[s("img",{attrs:{src:t.info.thumbnails.high.url,alt:"Image"}})])]),t._v(" "),s("div",{staticClass:"column is-three-querters"},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-content"},[s("p",{staticClass:"title is-4"},[t._v(t._s(t.info.title))])])]),t._v(" "),s("div",{staticClass:"content"},[t._v("\n            "+t._s(t.info.description)+"\n            "),s("br"),t._v(" "),s("small",{staticClass:"is-pulled-right"},[t._v(t._s(t.info.publishedAt))]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"columns is-multiline",staticStyle:{display:"inline-block"}},t._l(t.categories,function(e){return s("div",{staticClass:"field column",staticStyle:{display:"inline-block"}},[s("p",{staticClass:"control"},[s("label",{staticClass:"checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategories,expression:"selectedCategories"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.selectedCategories)?t._i(t.selectedCategories,e.id)>-1:t.selectedCategories},on:{__c:function(s){var a=t.selectedCategories,i=s.target,n=!!i.checked;if(Array.isArray(a)){var o=e.id,l=t._i(a,o);n?l<0&&(t.selectedCategories=a.concat(o)):l>-1&&(t.selectedCategories=a.slice(0,l).concat(a.slice(l+1)))}else t.selectedCategories=n}}}),t._v("\n                    "+t._s(e.title)+"\n                  ")])])])}))])])]),t._v(" "),s("footer",{staticClass:"card-footer"},[s("p",{staticClass:"card-footer-item"},[s("button",{staticClass:"button is-success",on:{click:t.addToDatabase}},[t._v("\n            Yes Add To Database\n          ")])]),t._v(" "),s("p",{staticClass:"card-footer-item"},[s("span",[s("button",{staticClass:"button is-danger",on:{click:function(e){t.info=null}}},[t._v("\n              No Try Again\n            ")])])])])])]):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"has-text-centered"},[s("h1",{staticClass:"title is-1"},[t._v("Add New Channel")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"field-label is-large"},[s("label",{staticClass:"label"},[t._v("Channel Name")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"field-label is-large"},[s("label",{staticClass:"label"},[t._v("Channel ID")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=this,s=e.$createElement,a=e._self._c||s;return a("nav",{staticClass:"nav has-shadow"},[a("div",{staticClass:"container"},[a("div",{staticClass:"nav-left"},[a("router-link",{staticClass:"nav-item",attrs:{to:{name:"Channels"}}},[a("h2",[e._v("Youtube Knowledgebase")])])],1),e._v(" "),a("div",{staticClass:"nav-right nav-menu"},[a("li",{staticClass:"nav-item"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(){t.dropdownOpen=!t.dropdownOpen}}},[e._v("\n          Genres\n        ")])]),e._v(" "),a("div",{class:[e.dropdownOpen?"is-open":"","box","dropdown"]},[a("ul",[a("span",{on:{click:function(){t.dropdownOpen=!t.dropdownOpen}}},e._l(e.categories,function(t){return a("router-link",{key:t.id,staticClass:"nav-item",attrs:{to:{name:"Channels",params:{id:t.id}}}},[e._v("\n           "+e._s(t.title)+"\n        ")])}))])])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"columns is-multiline is-mobile is-centered"},t._l(t.channels,function(e){return s("div",{staticClass:"column is-3-desktop is-4-tablet is-6-mobile channel"},[s("router-link",{attrs:{to:{name:"Channel",params:{id:e.y_id}}}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-image"},[s("figure",{staticClass:"image is-1by1"},[s("img",{attrs:{src:e.thumbnail,alt:"Image"}})])]),t._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-content"},[s("p",{staticClass:"title is-4"},[t._v(t._s(e.title))])])])])])])],1)}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[s("i",{staticClass:"fa fa-spinner fa-spin fa-4x"})]),t._v(" "),s("ChannelInfo"),t._v(" "),s("transition",{attrs:{name:"modal","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.modalActive,expression:"modalActive"}],staticClass:"modal animated is-active"},[s("div",{staticClass:"modal-background",on:{click:t.close}}),t._v(" "),s("div",{staticClass:"modal-content animated ",class:[t.modalActive?"":"zoomOut"]},[s("div",{attrs:{id:"player","data-type":"youtube","data-video-id":""}})]),t._v(" "),s("button",{staticClass:"modal-close",on:{click:t.close}})])]),t._v(" "),s("div",{staticClass:"columns is-multiline"},t._l(t.videos,function(e){return s("div",{staticClass:"column is-3"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-image"},[s("figure",{staticClass:"image is-4by2"},[s("img",{attrs:{src:e.snippet.thumbnails.high.url,alt:"",id:e.snippet.resourceId.videoId},on:{click:function(e){t.play(e)}}})])]),t._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"content"},[s("p",[t._v(t._s(e.snippet.title))])])])])])})),t._v(" "),s("nav",{staticClass:"pagination"},[s("a",{staticClass:"pagination-previous",attrs:{disabled:!t.token.prev},on:{click:function(e){t.paginate("prev")}}},[t._v("Previous")]),t._v(" "),s("a",{staticClass:"pagination-next",attrs:{disabled:!t.token.next},on:{click:function(e){t.paginate("next")}}},[t._v("Next page")])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Navigation"),t._v(" "),s("router-view",{key:t.$route.fullPath})],1)},staticRenderFns:[]}}],[32]);
//# sourceMappingURL=app.402a67e4d23cf1b27c76.js.map